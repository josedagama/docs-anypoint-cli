(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["organization-picker"],{50:function(a,e,t){t("FgMM");a.exports=t("aDTh")},"7Tcu":function(a,e,t){"use strict";var r=t("x5pb");var i=t.n(r);var o=i.a},DvbQ:function(a,e,t){var r=t("JPst");var i=r(false);i.push([a.i,".loading-circle div[data-v-0026986f]{width:70px;margin:0 auto}#govideo-toggle[data-v-0026986f]{margin-left:8px;position:relative;top:-5px}",""]);a.exports=i},ItSm:function(a,e,t){"use strict";var r=t("d+Z+");var i=t.n(r);var o=i.a},Kx7F:function(a,e,t){var r=t("JPst");var i=r(false);i.push([a.i,'.toggle[data-v-7962381d]{position:relative;padding-left:0;font-weight:400;cursor:pointer}.toggle input[type=checkbox][data-v-7962381d]{display:none}.toggle input[type=checkbox][disabled]+span[data-v-7962381d]{opacity:.65}.toggle input[type=checkbox]:checked+span[data-v-7962381d]:before{background-color:#6361fa}.toggle input[type=checkbox]:checked+span[data-v-7962381d]:after{background-color:#fff;transform:translate(100%,-50%);border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:2px;border-bottom-right-radius:2px;border-right:none}.toggle input[type=checkbox]:checked+span+span[data-v-7962381d]{right:auto;left:4px;color:#fff;transform:translateX(25%)}.toggle input[type=checkbox]+span[data-v-7962381d]{position:relative;display:inline-block;cursor:pointer;font-weight:500;text-align:left;margin:0;padding:0 35px}.toggle input[type=checkbox]+span[data-v-7962381d]:after,.toggle input[type=checkbox]+span[data-v-7962381d]:before{content:"";cursor:pointer;position:absolute;margin:0;outline:0;top:50%;transform:translateY(-50%);transition:all .2s ease-out}.toggle input[type=checkbox]+span[data-v-7962381d]:before{left:0;width:70px;height:26px;background-color:#f5f9ff;box-shadow:inset 0 1px 0 0 rgba(0,0,0,.05);border-radius:2px;border:1px solid rgba(0,0,0,.15)}.toggle input[type=checkbox]+span[data-v-7962381d]:after{left:1px;width:34px;height:24px;background-color:#fff;border-radius:2px;box-shadow:inset 0 1px 0 0 rgba(0,0,0,.08);border-top-right-radius:0;border-bottom-right-radius:0;border-right:1px solid #dde1f0}.toggle input[type=checkbox]+span+span[data-v-7962381d]{position:absolute;right:0;line-height:28px;top:1px;transform:translateX(-25%);color:#475066;font-size:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.toggle input[type=checkbox]:checked+span .toggle input[type=checkbox][data-v-7962381d]:after{transform:translate(100%,-50%);left:1px}',""]);a.exports=i},U24C:function(a,e,t){"use strict";var r=function(){var a=this;var e=a.$createElement;var t=a._self._c||e;return t("span",{staticClass:"toggle"},[t("input",{class:a.classes,attrs:{name:a.name,disabled:a.disabled,type:"checkbox"},domProps:{checked:a.value},on:{change:a.emitChange}}),a._v(" "),t("span"),a._v(" "),t("span",[a._v(a._s(a.label))])])};var i=[];r._withStripped=true;var o={name:"Toggle",props:{name:{type:String,required:false,default:""},classes:{type:String,required:false,default:""},disabled:{type:Boolean,required:false,default:false},value:{type:Boolean,required:false,default:false}},computed:{label(){return this.value?"ON":"OFF"}},methods:{emitChange(a){this.$emit("input",a.target.checked,this.id)}}};var n=o;var s=t("ItSm");var l=t("KHd+");var c=t("ijdI");var d=t.n(c);var p=Object(l["a"])(n,r,i,false,null,"7962381d",null);if(typeof d.a==="function")d()(p);if(false){var u}p.options.__file="app/assets/components/toggle.vue";var v=e["a"]=p.exports},aDTh:function(a,e,t){"use strict";t.r(e);var r=t("Kw5r");var i=function(){var a=this;var e=a.$createElement;var t=a._self._c||e;return t("div",{staticClass:"modal fade",attrs:{id:"nav-groups-modal",tabindex:"-1",role:"dialog","aria-labelledby":"nav-groups-modal-label","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("FontAwesomeIcon",{attrs:{slot:"icon",icon:a.faTimes},slot:"icon"})],1),a._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"nav-groups-modal-label"}},[a._v("\n          Switch "+a._s(a.I18n.t("Group"))+"\n        ")])]),a._v(" "),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"row filter-bar",class:{"mb-25":!a.currentOrganization.name}},[t("div",{staticClass:"col-xs-12 col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.organizationSearch,expression:"organizationSearch"}],staticClass:"form-control",attrs:{id:"id_organizationSearch",type:"search","aria-label":"Search for a "+a.I18n.t("group"),placeholder:"Search for a "+a.I18n.t("group")},domProps:{value:a.organizationSearch},on:{input:function(e){if(e.target.composing){return}a.organizationSearch=e.target.value}}})]),a._v(" "),t("div",{staticClass:"col-xs-12 col-md-6 checkbox"},[t("label",[a._v("\n              Show GoVideo "+a._s(a.I18n.t("Groups"))+"\n              "),t("Toggle",{attrs:{id:"govideo-toggle"},model:{value:a.showSelfServe,callback:function(e){a.showSelfServe=e},expression:"showSelfServe"}})],1)])]),a._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:a.currentOrganization.name,expression:"currentOrganization.name"}]},[t("h4",[a._v("Current "+a._s(a.I18n.t("Group")))]),a._v(" "),t("ul",{staticClass:"list-group mb-25"},[t("li",{staticClass:"list-group-item c-grey-60"},[t("i",{staticClass:"fal fa-check mr-10"}),a._v(a._s(a.currentOrganization.name)+"\n            ")])])]),a._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!a.searching,expression:"!searching"}]},a._l(a.parentOrganizations,(function(e,r){return t("div",{key:r},[a.hasJoinableOrganizations(e.id)?t("div",[t("h4",[a._v(a._s(e.name))]),a._v(" "),t("ul",{staticClass:"list-group mb-25"},[a.isAvailable(e.id)?t("a",{staticClass:"list-group-item c-grey-80",attrs:{"data-method":"put",href:"/user/switch_context/"+e.id}},[t("div",{staticClass:"label label-default pull-right"},[a._v(a._s(a.I18n.t("Parent")))]),a._v("\n                  "+a._s(e.name)+"\n                ")]):a._e(),a._v(" "),a._l(a.organizations,(function(r,i){return t("div",{key:i},[r.parent_id==e.id?t("a",{staticClass:"list-group-item c-grey-80",attrs:{"data-method":"put",href:"/user/switch_context/"+r.id}},[t("div",{staticClass:"label label-default pull-right"},[a._v(a._s(a.I18n.t("Sub_group")))]),a._v("\n                    "+a._s(r.name)+"\n                  ")]):a._e()])}))],2)]):a._e()])})),0),a._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:a.searching,expression:"searching"}],staticClass:"loading-circle"},[a._m(0)])])])])])};var o=[function(){var a=this;var e=a.$createElement;var t=a._self._c||e;return t("div",[t("i",{staticClass:"fal fa-circle-notch fa-spin fa-5x",attrs:{"aria-hidden":"true"}})])}];i._withStripped=true;var n=t("U24C");var s=t("vDqi");var l=t.n(s);var c=t("rT2p");var d=t("Cgi2");var p={name:"OrganizationPicker",components:{Toggle:n["a"],FontAwesomeIcon:c["a"]},data(){return{I18n,currentOrganization:{},organizations:[],parentOrganizations:[],showSelfServe:false,organizationSearch:"",searching:false}},computed:{faTimes:()=>d["faTimes"]},watch:{showSelfServe(){this.retrieveGroups()},organizationSearch:_.debounce((function(){this.retrieveGroups()}),500)},mounted(){$("#nav-groups-modal").on("shown.bs.modal",(()=>{this.retrieveGroups()}))},methods:{retrieveGroups(){this.searching=true;const a={responseType:"json",params:{self_serve:this.showSelfServe?1:undefined,query:this.organizationSearch.length?encodeURIComponent(this.organizationSearch):undefined}};l.a.get("/organizations.json",a).then((a=>{this.currentOrganization=a.data.current_organization;this.organizations=a.data.organizations;this.parentOrganizations=a.data.parent_organizations;this.searching=false})).catch((()=>{this.searching=false}))},isAvailable(a){return this.organizations.filter((e=>e.id===a)).length>0},hasJoinableOrganizations(a){return this.organizations.filter((e=>e.parent_id===a||e.id===a)).length>0}}};var u=p;var v=t("7Tcu");var g=t("KHd+");var f=t("yrR7");var h=t.n(f);var m=Object(g["a"])(u,i,o,false,null,"0026986f",null);if(typeof h.a==="function")h()(m);if(false){var b}m.options.__file="app/assets/components/organization-picker.vue";var x=m.exports;const w=document.getElementById("organization-picker");new r["a"]({el:w,render:a=>a(x,{})})},"d+Z+":function(a,e,t){var r=t("Kx7F");if(typeof r==="string")r=[[a.i,r,""]];if(r.locals)a.exports=r.locals;var i=t("SZ7m").default;var o=i("01eeb6e2",r,false,{});if(false){}},ijdI:function(a,e){},x5pb:function(a,e,t){var r=t("DvbQ");if(typeof r==="string")r=[[a.i,r,""]];if(r.locals)a.exports=r.locals;var i=t("SZ7m").default;var o=i("35ec8d8c",r,false,{});if(false){}},yrR7:function(a,e){}},[[50,"runtime","vendors","common"]]]);